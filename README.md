# A template for reproducible papers

This template is a self-contained manuscript reproduction pipeline. It allows you to compile a whole manuscript with a single command. The directory structure takes care of organizing the material, so you can focus on the content instead. The auto-generation of the manuscript ensures reproducibility and promotes open sharing of your work.

This template is gratefully adapted from one developed by [pinga-lab](https://github.com/pinga-lab/paper-template). To make it easier for an uninitiated user, I removed the build and testing features. Writing is done primarily in markdown, limiting the use of LaTex to the appearance, author list, and abstract. Markdown is a simpler format to write in, which should make this template more accessible. 

This template is for papers that use Python code and Jupyter notebooks to
generate their results, though it can be adapted to other platforms.
The text is written in `article.md` under `manuscript`. Compilation is automated using `Makefile`s.

Ideally, all results, figures and the final paper PDF should be generated by
running a single `make` command in the root of this repository. 

## Getting the code (UPDATE THE LINKS)

You can download a copy of all the files in this repository by cloning the
[git](https://git-scm.com/) repository:

    git clone https://github.com/navishwadhwa/reproducible-manuscript-template.git

or [download a zip archive](https://github.com/navishwadhwa/reproducible-manuscript-template/archive/main.zip).

## Requirements

This package is testes on Windows using Cygwin, but should work on Mac and Linux as well.

**Python**: You'll need a working Python environment to run the code.
The recommended way to set up your environment is through the
[Anaconda Python distribution](https://www.anaconda.com/download/) which
provides the `conda` package manager.

**make**: The execution is automated using the `make` [utility](https://en.wikipedia.org/wiki/Makefile), which follows the instructions included in the `Makefile`s. On Windows machines, `make` is available via [Cygwin](https://cygwin.com/).

**LaTex**: You'll need a LaTex installation. You can get it from [MikTex](https://miktex.org/).

**pandoc**: For converting markdown to LaTex, you'll need [pandoc](https://pandoc.org/).

There are a few other optional utilities (e.g. word count) included in the makefiles, but you can get going without them. 

## Layout

All source code used to generate the results and figures are in
the `code` folder.
The data used in the study are stored in `data` and the sources for the
manuscript text and figures are in `manuscript`.
Results generated by the code are saved in `results`.
See the `README.md` files in each directory for a full description.
    
    Global Makefile
    code/
    |---Makefile (run codes)
    |---run_notebooks.sh (called by codes Makefile)
    |---notebooks/
        |---jupyter-notebooks
    data/
    |---raw-data
    manuscript/
    |---Makefile (compile manuscript)
    |---    article.md (write here!)
    |---content.tex (generated from article.md)
    |---manuscript.tex (appearance, authors, abstract)
    |---references.bib
    |---figures/
        |---figures-files
    |---output/ (this is where the final pdf is generated)
    results/
    |---results-files

## Reproducing the results

To produce all results and figures, and compile
the manuscript PDF, run this in the top level of the repository:

    make all

If all goes well, the manuscript PDF will be placed in `manuscript/output`.

You can also run individual steps in the process using the `Makefile`s from the
`code` and `manuscript` folders. See the respective `README.md` files for
instructions.

You can also run any of the files and notebooks
individually.

## License

All source code is made available under a BSD 3-clause license. You can freely
use and modify the code, without warranty, so long as you provide attribution
to the authors. See `LICENSE.md` for the full license text.
